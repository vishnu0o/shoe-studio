<%- include('../layout/homeheader.ejs',{loginsession}); -%>
<style>
    body {
        background: #f7f7ff;
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid transparent;
        border-radius: .25rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 2px 6px 0 rgb(218 218 253 / 65%), 0 2px 6px 0 rgb(206 206 238 / 54%);
    }

    .me-2 {
        margin-right: .5rem !important;
    }
</style>

<div class="container">
    <div class="main-body">
        <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin"
                                class="rounded-circle" width="150">
                            <div class="mt-3">
                                <h4><%=editaddress.name%></h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="card1">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <form method="post" action="/editaddress?id=<%=editaddress._id%>" class="colorlib-form" id="orderform">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="name">Name</label>
                                                <input type="text" id="name" name="name" class="form-control"
                                                    placeholder="Your name" value="<%=editaddress.name%>">
                                                <span class="text-danger" id="name-error"></span>
                                            </div>
                                        </div>
                                     
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="fname">House Name</label>
                                                <input type="text" id="house" name="house" class="form-control"
                                                    value="<%=editaddress.houseName %>" placeholder="Enter Your House Name" >
                                                 <span class="text-danger" id="house-error"></span>

                                            </div>
                                        </div>
                                        
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="companyname">Town/City</label>
                                                <input type="text" id="towncity" name="towncity" class="form-control"
                                                    value="<%=editaddress.townCity  %>" placeholder="Town or City" >
                                            </div>
                                            <span class="text-danger" id="town-error"></span>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="companyname">District</label>
                                                <input type="text" id="district" name="district" class="form-control"
                                                   value="<%=editaddress.district  %>" placeholder="District" >
                                            </div>
                                            <span class="text-danger" id="district-error"></span>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="stateprovince">State</label>
                                                <input type="text" id="state" name="state" class="form-control"
                                                  value="<%=editaddress.state %>"  placeholder="State " >

                                                <span class="text-danger" id="state-error"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="lname">PIN Code</label>
                                                <input type="number" id="pincode" name="pincode" class="form-control"
                                                  value="<%=editaddress.pincode  %>"  placeholder="PIN Code" >
                                                <span class="text-danger" id="pincode-error"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="Phone">Email</label>
                                                <input type="email" id="email" name="email"
                                                  value="<%=editaddress.email %>"  class="form-control" placeholder="Email" >
                                                <span class="text-danger" id="email-error"></span>
                                            </div>
                                        </div>

                                      
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="Phone">Mobile Number</label>
                                                <input type="number" id="phone" name="mobile"
                                                 value="<%=editaddress.mobileNo  %>"   class="form-control" placeholder="Mobile" >

                                                <span class="text-danger" id="mobile-error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 text-center">
                                            <a href="/profile" class="btn btn-primary">Cancel</a>
                                            <button class="btn btn-success" type="submit">Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-lg-4">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<%- include('../layout/homefooter.ejs'); -%>
<script>
    
    $(document).ready(function() {
       $('#orderform').submit(function(e) {
        e.preventDefault();
        var error = false;
    
        // Validate full name
        var name = $('#name').val().trim();
          if (!name) {
            $('#name-error').text('Please enter your full name');
            error = true;
            $('#name')
        } else {
          $('#name-error').text('');
        }
    
        // Validate house name
        var housename = $('#house').val();
        if (!housename) {
          $('#house-error').text('Please enter your house name');
          error = true;
        } else {
          $('#house-error').text('');
        }
    
        // Validate pincode
        var pincode = $('#pincode').val();
        var pincode_regex = /^[0-9]{6}$/;
        if (!pincode || !pincode_regex.test(pincode)) {
          $('#pincode-error').text('Please enter a valid 6-digit pincode');
          error = true;
        } else {
          $('#pincode-error').text('');
        }
    
        // Validate city
        var city = $('#towncity').val();
        if (!city) {
          $('#town-error').text('Please enter your city');
          error = true;
        } else {
          $('#town-error').text('');
        }
    
        // Validate district
        var district = $('#district').val();
        if (!district) {
          $('#district-error').text('Please enter your district');
          error = true;
        } else {
          $('#district-error').text('');
        }
          // Validate state
          var state = $('#state').val();
          if (!state) {
              $('#state-error').text('Please enter your state');
              error = true;
          } else {
              $('#state-error').text('');
          }
      
        // Validate mobile number
        var mobilenumber = $('#phone').val();
        var mobilenumber_regex = /^[0-9]{10}$/;
        if (!mobilenumber || !mobilenumber_regex.test(mobilenumber)) {
          $('#mobile-error').text('Please enter a valid 10-digit mobile number');
          error = true;
        } else {
          $('#mobile-error').text('');
        }
    
        // Validate email
        var email = $('#email').val();
        var email_regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email || !email_regex.test(email)) {
          $('#email-error').text('Please enter a valid email address');
          error = true;
        } else {
          $('#email-error').text('');
        }
  
        
        // Submit the form if no errors
        if (!error) {
          this.submit();
        }
      });
    });
</script>
  